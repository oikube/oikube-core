"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const js_yaml_1 = require("js-yaml");
const fs_1 = require("fs");
function readConf() {
    try {
        return js_yaml_1.safeLoad(fs_1.readFileSync('./data/config.yml'));
    }
    catch (err) {
        return js_yaml_1.safeLoad(fs_1.readFileSync('./data/config-default.yml'));
    }
}
exports.config = readConf;
function saveConf() {
    fs_1.writeFileSync('./data/config.yml', js_yaml_1.safeDump(exports.config));
}
exports.saveConf = saveConf;
const env = 'dev';
const conf = {
    dev: {
        CONSUL: '192.168.12.58',
        RABBITMQ: 'amqp://192.168.12.58',
        MQTT: 'wss://192.168.12.58:15675/ws',
        JWT_SECRET: '',
        PORT: 8080,
    },
    prod: {
        CONSUL: 'consul',
        RABBITMQ: 'amqp://rabbitmq',
        MQTT: 'wss://rabbitmq:15675/ws',
        JWT_SECRET: '',
        PORT: 8080,
    },
    local: {
        CONSUL: 'localhost',
        RABBITMQ: 'amqp://localhost',
        MQTT: 'wss://localhost:15675/ws',
        JWT_SECRET: '',
        PORT: 8080,
    },
};
exports.default = conf[env];

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9kZWZzL2NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHFDQUE2QztBQUM3QywyQkFBaUQ7QUFFakQ7SUFDQyxJQUFJO1FBQ0gsT0FBTyxrQkFBUSxDQUFDLGlCQUFZLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO0tBQ25EO0lBQUMsT0FBTyxHQUFHLEVBQUU7UUFDYixPQUFPLGtCQUFRLENBQUMsaUJBQVksQ0FBQywyQkFBMkIsQ0FBQyxDQUFDLENBQUM7S0FDM0Q7QUFDRixDQUFDO0FBQ1UsUUFBQSxNQUFNLEdBQUcsUUFBUSxDQUFDO0FBQzdCO0lBQ0Msa0JBQWEsQ0FBQyxtQkFBbUIsRUFBRSxrQkFBUSxDQUFDLGNBQU0sQ0FBQyxDQUFDLENBQUM7QUFDdEQsQ0FBQztBQUZELDRCQUVDO0FBQ0QsTUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDO0FBQ2xCLE1BQU0sSUFBSSxHQUFHO0lBQ1osR0FBRyxFQUFFO1FBQ0osTUFBTSxFQUFFLGVBQWU7UUFDdkIsUUFBUSxFQUFFLHNCQUFzQjtRQUNoQyxJQUFJLEVBQUUsOEJBQThCO1FBQ3BDLFVBQVUsRUFBRSxFQUFFO1FBQ2QsSUFBSSxFQUFFLElBQUk7S0FDVjtJQUNELElBQUksRUFBRTtRQUNMLE1BQU0sRUFBRSxRQUFRO1FBQ2hCLFFBQVEsRUFBRSxpQkFBaUI7UUFDM0IsSUFBSSxFQUFFLHlCQUF5QjtRQUMvQixVQUFVLEVBQUUsRUFBRTtRQUNkLElBQUksRUFBRSxJQUFJO0tBQ1Y7SUFDRCxLQUFLLEVBQUU7UUFDTixNQUFNLEVBQUUsV0FBVztRQUNuQixRQUFRLEVBQUUsa0JBQWtCO1FBQzVCLElBQUksRUFBRSwwQkFBMEI7UUFDaEMsVUFBVSxFQUFFLEVBQUU7UUFDZCxJQUFJLEVBQUUsSUFBSTtLQUNWO0NBQ0QsQ0FBQztBQUVGLGtCQUFlLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyIsImZpbGUiOiJkZWZzL2NvbmZpZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNhZmVMb2FkLCBzYWZlRHVtcCB9IGZyb20gJ2pzLXlhbWwnO1xuaW1wb3J0IHsgcmVhZEZpbGVTeW5jLCB3cml0ZUZpbGVTeW5jIH0gZnJvbSAnZnMnO1xuXG5mdW5jdGlvbiByZWFkQ29uZigpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gc2FmZUxvYWQocmVhZEZpbGVTeW5jKCcuL2RhdGEvY29uZmlnLnltbCcpKTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0cmV0dXJuIHNhZmVMb2FkKHJlYWRGaWxlU3luYygnLi9kYXRhL2NvbmZpZy1kZWZhdWx0LnltbCcpKTtcblx0fVxufVxuZXhwb3J0IGxldCBjb25maWcgPSByZWFkQ29uZjtcbmV4cG9ydCBmdW5jdGlvbiBzYXZlQ29uZigpIHtcblx0d3JpdGVGaWxlU3luYygnLi9kYXRhL2NvbmZpZy55bWwnLCBzYWZlRHVtcChjb25maWcpKTtcbn1cbmNvbnN0IGVudiA9ICdkZXYnO1xuY29uc3QgY29uZiA9IHtcblx0ZGV2OiB7XG5cdFx0Q09OU1VMOiAnMTkyLjE2OC4xMi41OCcsXG5cdFx0UkFCQklUTVE6ICdhbXFwOi8vMTkyLjE2OC4xMi41OCcsXG5cdFx0TVFUVDogJ3dzczovLzE5Mi4xNjguMTIuNTg6MTU2NzUvd3MnLFxuXHRcdEpXVF9TRUNSRVQ6ICcnLFxuXHRcdFBPUlQ6IDgwODAsXG5cdH0sXG5cdHByb2Q6IHtcblx0XHRDT05TVUw6ICdjb25zdWwnLFxuXHRcdFJBQkJJVE1ROiAnYW1xcDovL3JhYmJpdG1xJyxcblx0XHRNUVRUOiAnd3NzOi8vcmFiYml0bXE6MTU2NzUvd3MnLFxuXHRcdEpXVF9TRUNSRVQ6ICcnLFxuXHRcdFBPUlQ6IDgwODAsXG5cdH0sXG5cdGxvY2FsOiB7XG5cdFx0Q09OU1VMOiAnbG9jYWxob3N0Jyxcblx0XHRSQUJCSVRNUTogJ2FtcXA6Ly9sb2NhbGhvc3QnLFxuXHRcdE1RVFQ6ICd3c3M6Ly9sb2NhbGhvc3Q6MTU2NzUvd3MnLFxuXHRcdEpXVF9TRUNSRVQ6ICcnLFxuXHRcdFBPUlQ6IDgwODAsXG5cdH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25mW2Vudl07XG4iXX0=
